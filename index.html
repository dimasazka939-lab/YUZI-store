<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YUZI STORE - All Game Top Up</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#000;color:#fff;position:relative;overflow-x:hidden;}
.container{max-width:480px;margin:auto;padding:20px;position:relative;z-index:2;}
h1{text-align:center;color:#ffd700;}
input, select, button{width:100%;padding:10px;margin:5px 0;border:none;border-radius:5px;}
button{background:#ffd700;color:#000;font-weight:bold;cursor:pointer;}
#rgbLampFull{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;transition:background 0.3s;}
.paymentInfo{background:#222;padding:10px;margin-top:10px;border-radius:5px;}
.toggleBtn{background:#444;color:#fff;margin-top:5px;}
.transaction{background:#111;padding:10px;margin-top:10px;border-radius:5px;}
.status{color:#ffd700;font-weight:bold;}
</style>
</head>
<body>
<div id="rgbLampFull"></div>

<div class="container">
<h1>YUZI STORE - Top Up All Game</h1>

<label>Nama Game:</label>
<select id="game">
<option value="Mobile Legends">Mobile Legends</option>
<option value="Free Fire">Free Fire</option>
<option value="PUBG Mobile">PUBG Mobile</option>
<option value="Genshin Impact">Genshin Impact</option>
</select>

<label>ID Game / Username:</label>
<input type="text" id="username" placeholder="Masukkan ID akun">

<label>Region / Server:</label>
<input type="text" id="region" placeholder="Contoh: Asia, EU, NA">

<label>Paket Top Up:</label>
<select id="package">
<option value="50 Diamonds">50 Diamonds - Rp10.000</option>
<option value="100 Diamonds">100 Diamonds - Rp20.000</option>
<option value="500 Diamonds">500 Diamonds - Rp90.000</option>
</select>

<label>Metode Pembayaran:</label>
<select id="payment">
<option value="Dana">Dana</option>
<option value="OVO">OVO</option>
<option value="Gopay">GoPay</option>
<option value="QR">QR Code</option>
</select>

<button onclick="processOrder()">Bayar & Proses</button>
<button class="toggleBtn" onclick="toggleRGB()">ON/OFF Lampu RGB</button>

<div id="paymentInfo" class="paymentInfo" style="display:none;"></div>

<h2>Transaksi</h2>
<div id="transactionList"></div>

</div>

<script>
const adminNumber = "6285147769300";
let rgbColors = ['#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff'];
let lampFull = document.getElementById('rgbLampFull');
let i = 0;
let rgbInterval = null;
let rgbOn = false;

// RGB Functions
function startRGB(){
    stopRGB();
    rgbInterval = setInterval(()=>{
        lampFull.style.background = rgbColors[i % rgbColors.length];
        i++;
    }, 300);
    rgbOn = true;
}

function startRGBFull(){
    stopRGB();
    lampFull.style.background = "linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet)";
    rgbOn = true;
}

function stopRGB(){
    if(rgbInterval) clearInterval(rgbInterval);
    lampFull.style.background = "transparent";
    rgbOn = false;
}

function toggleRGB(){
    if(rgbOn){
        stopRGB();
    } else {
        startRGBFull();
    }
}

// Transactions
function loadTransactions(){
    const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
    const list = document.getElementById('transactionList');
    list.innerHTML = '';
    transactions.forEach((t,index)=>{
        list.innerHTML += `<div class="transaction">
            <p><b>${t.game}</b> | ID: ${t.username} | Paket: ${t.package}</p>
            <p>Status: <span class="status" id="status${index}">${t.status}</span></p>
        </div>`;
    });
}

function saveTransaction(transaction){
    const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
    transactions.push(transaction);
    localStorage.setItem('transactions', JSON.stringify(transactions));
    loadTransactions();
}

function updateTransactionStatus(index,status){
    const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
    transactions[index].status = status;
    localStorage.setItem('transactions', JSON.stringify(transactions));
    document.getElementById('status'+index).innerText = status;
}

function processOrder(){
    const game = document.getElementById('game').value;
    const user = document.getElementById('username').value;
    const region = document.getElementById('region').value;
    const packageSelected = document.getElementById('package').value;
    const payment = document.getElementById('payment').value;

    if(!user || !region){
        alert("Masukkan ID Game dan Region terlebih dahulu!");
        return;
    }

    const transaction = {game,user,region,package:packageSelected,payment,status:"Menunggu Bayar"};
    saveTransaction(transaction);

    const waLink = `https://wa.me/${adminNumber}?text=${encodeURIComponent(
        "Order Baru:\nGame: " + game +
        "\nID: " + user +
        "\nRegion: " + region +
        "\nPaket: " + packageSelected +
        "\nMetode: " + payment
    )}`;

    let info = `<p>Jika WhatsApp tidak otomatis terbuka, klik link berikut:</p>`;
    info += `<p><a href="${waLink}" target="_blank">Konfirmasi Order ke Admin</a></p>`;
    if(payment === "QR"){
        info += `<p>Scan QR Code berikut:</p>`;
        info += `<img src="https://via.placeholder.com/150?text=QR+Code" alt="QR Code">`;
    }
    document.getElementById('paymentInfo').innerHTML = info;
    document.getElementById('paymentInfo').style.display = 'block';

    window.open(waLink, "_blank");

    // Simulasi pembayaran berhasil
    setTimeout(()=>{
        const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
        const index = transactions.findIndex(t => t.username === user && t.status==="Menunggu Bayar");
        if(index >= 0){
            updateTransactionStatus(index,"Sedang Proses");
            startRGBFull();
            setTimeout(()=>{
                updateTransactionStatus(index,"Selesai");
                stopRGB();
            },10000);
        }
    },5000);
}

loadTransactions();
</script>
</body>
</html>